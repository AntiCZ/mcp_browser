<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrowserMCP Interactive Test Page - Visual Feedback</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        
        .test-section {
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }
        
        .test-section.active {
            background: #e8f5e9;
            border-color: #4caf50;
            transform: scale(1.02);
        }
        
        .test-section.error {
            background: #ffebee;
            border-color: #f44336;
        }
        
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        button:hover {
            background: #5a67d8;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        button.clicked {
            background: #4caf50 !important;
            animation: pulse 0.5s;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        input, select, textarea {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: 2px solid #ddd;
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: #667eea;
            outline: none;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        input.changed, select.changed, textarea.changed {
            border-color: #4caf50;
            background: #f1f8e9;
        }
        
        .feedback-box {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            max-width: 300px;
            display: none;
            z-index: 1000;
        }
        
        .feedback-box.show {
            display: block;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .error-trigger {
            background: #f44336 !important;
        }
        
        .error-trigger:hover {
            background: #d32f2f !important;
        }
        
        #console-output {
            background: #263238;
            color: #aed581;
            padding: 15px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 10px;
        }
        
        .console-error {
            color: #ef5350;
        }
        
        .console-warn {
            color: #ffca28;
        }
        
        .console-log {
            color: #81c784;
        }
        
        .drop-zone {
            border: 3px dashed #667eea;
            padding: 40px;
            text-align: center;
            border-radius: 8px;
            transition: all 0.3s ease;
            background: #f5f7ff;
        }
        
        .drop-zone.dragover {
            background: #e8eaf6;
            border-color: #3f51b5;
            transform: scale(1.02);
        }
        
        .drop-zone.dropped {
            background: #e8f5e9;
            border-color: #4caf50;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ BrowserMCP Interactive Test Page</h1>
        <p>This page provides visual feedback for all interactions to confirm tool actions.</p>
        
        <!-- Feedback Box -->
        <div id="feedback" class="feedback-box">
            <h3>Action Detected!</h3>
            <p id="feedback-text"></p>
        </div>
        
        <!-- Basic Interactions -->
        <div class="test-section">
            <h2>1. Click Actions with Visual Feedback</h2>
            <button onclick="handleClick(this, 'Button 1')">Click Me - Button 1</button>
            <button onclick="handleClick(this, 'Button 2')">Click Me - Button 2</button>
            <button onclick="handleClick(this, 'Button 3')">Click Me - Button 3</button>
            <button class="error-trigger" onclick="triggerError()">Click to Trigger Error</button>
            <button onclick="triggerWarning()">Click to Trigger Warning</button>
        </div>
        
        <!-- Text Input with Feedback -->
        <div class="test-section">
            <h2>2. Text Input with Change Detection</h2>
            <input type="text" placeholder="Type here..." oninput="handleInput(this)" />
            <input type="email" placeholder="Email address..." oninput="handleInput(this)" />
            <textarea placeholder="Multi-line text..." oninput="handleInput(this)"></textarea>
        </div>
        
        <!-- Dropdowns with Feedback -->
        <div class="test-section">
            <h2>3. Dropdown Selection Feedback</h2>
            <select onchange="handleSelect(this)">
                <option value="">Choose an option...</option>
                <option value="option1">Option 1 - Apple</option>
                <option value="option2">Option 2 - Banana</option>
                <option value="option3">Option 3 - Cherry</option>
            </select>
            
            <select multiple onchange="handleSelect(this)">
                <option value="red">Red</option>
                <option value="green">Green</option>
                <option value="blue">Blue</option>
                <option value="yellow">Yellow</option>
            </select>
        </div>
        
        <!-- File Upload with Feedback -->
        <div class="test-section">
            <h2>4. File Upload Detection</h2>
            <input type="file" onchange="handleFileSelect(this)" accept=".pdf,.doc,.docx" />
            <input type="file" multiple onchange="handleFileSelect(this)" accept="image/*" />
            
            <div class="drop-zone" id="dropZone">
                <p>üìÅ Drag & Drop Files Here</p>
                <p>or click to select</p>
                <input type="file" id="dropInput" style="display: none;" multiple />
            </div>
        </div>
        
        <!-- Hover Detection -->
        <div class="test-section">
            <h2>5. Hover Detection</h2>
            <button onmouseover="handleHover(this, 'in')" onmouseout="handleHover(this, 'out')">
                Hover Over Me
            </button>
            <div style="padding: 20px; background: #e3f2fd; border-radius: 4px; margin-top: 10px;"
                 onmouseover="handleHover(this, 'in')" onmouseout="handleHover(this, 'out')">
                Hover Detection Zone
            </div>
        </div>
        
        <!-- Console Output -->
        <div class="test-section">
            <h2>6. Console Output Monitor</h2>
            <button onclick="console.log('Test log message')">Generate Log</button>
            <button onclick="console.warn('Test warning message')">Generate Warning</button>
            <button onclick="console.error('Test error message')">Generate Error</button>
            <button onclick="clearConsole()">Clear Console</button>
            <div id="console-output"></div>
        </div>
        
        <!-- Dynamic Content -->
        <div class="test-section">
            <h2>7. Dynamic Content Generation</h2>
            <button onclick="addDynamicContent()">Add Dynamic Element</button>
            <button onclick="removeDynamicContent()">Remove Last Element</button>
            <div id="dynamic-container"></div>
        </div>
        
        <!-- Error Triggers -->
        <div class="test-section">
            <h2>8. Error Testing</h2>
            <button onclick="triggerReferenceError()">Trigger Reference Error</button>
            <button onclick="triggerTypeError()">Trigger Type Error</button>
            <button onclick="triggerAsyncError()">Trigger Async Error (Promise)</button>
            <button onclick="triggerNetworkError()">Trigger Network Error</button>
        </div>
    </div>
    
    <script>
        // Console output capture
        const consoleOutput = document.getElementById('console-output');
        const originalLog = console.log;
        const originalWarn = console.warn;
        const originalError = console.error;
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            addConsoleMessage('log', args.join(' '));
        };
        
        console.warn = function(...args) {
            originalWarn.apply(console, args);
            addConsoleMessage('warn', args.join(' '));
        };
        
        console.error = function(...args) {
            originalError.apply(console, args);
            addConsoleMessage('error', args.join(' '));
        };
        
        function addConsoleMessage(type, message) {
            const div = document.createElement('div');
            div.className = 'console-' + type;
            div.textContent = `[${type.toUpperCase()}] ${message}`;
            consoleOutput.appendChild(div);
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        }
        
        // Global error handler
        window.addEventListener('error', function(e) {
            console.error('Uncaught error:', e.message);
            showFeedback('Error: ' + e.message, 'error');
        });
        
        window.addEventListener('unhandledrejection', function(e) {
            console.error('Unhandled promise rejection:', e.reason);
            showFeedback('Promise rejection: ' + e.reason, 'error');
        });
        
        // Feedback functions
        function showFeedback(message, type = 'success') {
            const feedback = document.getElementById('feedback');
            const feedbackText = document.getElementById('feedback-text');
            feedbackText.textContent = message;
            feedback.className = 'feedback-box show';
            feedback.style.background = type === 'error' ? '#ffebee' : '#e8f5e9';
            
            setTimeout(() => {
                feedback.className = 'feedback-box';
            }, 3000);
        }
        
        function handleClick(element, buttonName) {
            element.classList.add('clicked');
            element.textContent = `‚úì ${buttonName} Clicked!`;
            showFeedback(`Button "${buttonName}" was clicked successfully`);
            console.log(`Button clicked: ${buttonName}`);
            
            setTimeout(() => {
                element.classList.remove('clicked');
                element.textContent = `Click Me - ${buttonName}`;
            }, 2000);
        }
        
        function handleInput(element) {
            element.classList.add('changed');
            showFeedback(`Input changed: "${element.value}"`);
            console.log(`Input value: ${element.value}`);
        }
        
        function handleSelect(element) {
            element.classList.add('changed');
            const values = Array.from(element.selectedOptions).map(o => o.value);
            showFeedback(`Selected: ${values.join(', ')}`);
            console.log(`Selection: ${values.join(', ')}`);
        }
        
        function handleFileSelect(element) {
            const files = Array.from(element.files);
            const fileNames = files.map(f => f.name).join(', ');
            showFeedback(`Files selected: ${fileNames}`);
            console.log(`Files: ${fileNames}`);
        }
        
        function handleHover(element, direction) {
            if (direction === 'in') {
                element.style.background = '#ffd54f';
                element.style.transform = 'scale(1.05)';
                console.log('Hover in:', element.textContent.trim());
            } else {
                element.style.background = '';
                element.style.transform = '';
                console.log('Hover out:', element.textContent.trim());
            }
        }
        
        // Error triggers
        function triggerError() {
            throw new Error('This is a test error triggered by button click');
        }
        
        function triggerWarning() {
            console.warn('This is a test warning triggered by button click');
            showFeedback('Warning generated', 'warning');
        }
        
        function triggerReferenceError() {
            undefinedVariable.doSomething(); // This will cause a ReferenceError
        }
        
        function triggerTypeError() {
            null.toString(); // This will cause a TypeError
        }
        
        function triggerAsyncError() {
            Promise.reject('Async error: Promise rejected intentionally');
        }
        
        function triggerNetworkError() {
            fetch('https://non-existent-domain-12345.com/api')
                .catch(err => console.error('Network error:', err.message));
        }
        
        // Dynamic content
        let dynamicCounter = 0;
        function addDynamicContent() {
            dynamicCounter++;
            const div = document.createElement('div');
            div.id = 'dynamic-' + dynamicCounter;
            div.style.padding = '10px';
            div.style.margin = '5px 0';
            div.style.background = '#e1f5fe';
            div.style.borderRadius = '4px';
            div.textContent = `Dynamic Element #${dynamicCounter}`;
            document.getElementById('dynamic-container').appendChild(div);
            showFeedback(`Added dynamic element #${dynamicCounter}`);
        }
        
        function removeDynamicContent() {
            const container = document.getElementById('dynamic-container');
            if (container.lastChild) {
                container.removeChild(container.lastChild);
                showFeedback('Removed last dynamic element');
                dynamicCounter = Math.max(0, dynamicCounter - 1);
            }
        }
        
        function clearConsole() {
            consoleOutput.innerHTML = '';
            showFeedback('Console cleared');
        }
        
        // Drag and drop
        const dropZone = document.getElementById('dropZone');
        const dropInput = document.getElementById('dropInput');
        
        dropZone.addEventListener('click', () => dropInput.click());
        
        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.classList.add('dragover');
        });
        
        dropZone.addEventListener('dragleave', () => {
            dropZone.classList.remove('dragover');
        });
        
        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('dragover');
            dropZone.classList.add('dropped');
            
            const files = Array.from(e.dataTransfer.files);
            const fileNames = files.map(f => f.name).join(', ');
            showFeedback(`Dropped files: ${fileNames}`);
            console.log(`Dropped: ${fileNames}`);
            
            setTimeout(() => {
                dropZone.classList.remove('dropped');
            }, 2000);
        });
        
        dropInput.addEventListener('change', (e) => {
            handleFileSelect(e.target);
        });
        
        // Initial console message
        console.log('BrowserMCP Interactive Test Page loaded successfully');
    </script>
</body>
</html>